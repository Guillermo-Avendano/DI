openapi: "3.0.0"
info:
  version: 1.0.0
  title: Items
  description: Items OpenAPI definition

security:
  - BasicAuth: []
  - BearerAuth: []

servers:
  - url: '/rest'
tags:
  - name: Items

paths:
  /items/business-applications:
    get:
      tags:
        - Items
      operationId: getBusinessApplications
      summary: Retrieve all the Business Applications items
      description: |
        Retrieve all the Business Applications items from Rochade.
      parameters:
        - name: displayLangs
          in: query
          description: |
            By convention, the first value corresponds to the primary language. It corresponds to the preferred language of the user, as provided in the user preferences item in the Rochade server.  
            It is also known as the working language, or at least the most important one, for the user agent.
            The remaining values correspond to the additional preferred languages of the user as provided by the user preferences item in the Rochade server.
            They are the additional languages for which the user agent wants the translations.
          required: false
          schema:
            $ref: '#/components/schemas/DisplayLangs'
        - name: what
          in: query
          description: Attributes to return. id is always returned even if it is not part of what.
          required: false
          schema:
            type: array
            items:
              type: string
            default: [id, scopeId, type, name]
      responses:
        '200':
          description: List of all Business Applications items
          content:
            application/vnd.raas-services-items-business-applications.v1+json:
              schema:
                $ref: '#/components/schemas/BusinessApplications'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
        '412':
          $ref: '#/components/responses/PreconditionFailed'
        '428':
          $ref: '#/components/responses/PreconditionRequired'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '501':
          $ref: '#/components/responses/NotImplemented'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Unexpected'

  /items/business-glossaries:
    get:
      tags:
        - Items
      operationId: getBusinessGlossaries
      summary: Retrieve details about the Business Glossaries facet tree
      description: |
        Retrieve the hierarchy of all Business Glossaries and recursively the contexts/sub-contexts from Rochade.
      parameters:
        - name: displayLangs
          in: query
          description: |
            By convention, the first value corresponds to the primary language. It corresponds to the preferred language of the user, as provided in the user preferences item in the Rochade server.  
            It is also known as the working language, or at least the most important one, for the user agent.
            The remaining values correspond to the additional preferred languages of the user as provided by the user preferences item in the Rochade server.
            They are the additional languages for which the user agent wants the translations.
          required: false
          schema:
            $ref: '#/components/schemas/DisplayLangs'
        - name: what
          in: query
          description: Attributes to return. id is always returned even if it is not part of what.
          required: false
          schema:
            type: array
            items:
              type: string
            default: [id, scopeId, type, name]
      responses:
        '200':
          description: List the hierarchy of Business Glossaries
          content:
            application/vnd.raas-services-items-business-glossaries.v1+json:
              schema:
                $ref: '#/components/schemas/GlossaryContextTree'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
        '412':
          $ref: '#/components/responses/PreconditionFailed'
        '428':
          $ref: '#/components/responses/PreconditionRequired'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '501':
          $ref: '#/components/responses/NotImplemented'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Unexpected'

  /items:
    get:
      tags:
        - Items
      operationId: getItems
      summary: Retrieve the Rochade items
      description: |
        Retrieve the Rochade item's attributes mentioned in the _what_ query parameter for given item ids.
      parameters:
        - name: itemIds
          in: query
          description: |
            The Rochade items identifiers
          required: true
          schema:
            type: array
            items:
              $ref: '#/components/schemas/ItemId'
        - name: what
          in: query
          description: |
            Attributes to return. id is always returned even if it is not part of _what_. 
            If _what_ is unspecified, [id, scopeId, type, name, languages] will be treated as the default values for _what_.
            If [absPath] and [languages] are specified together then, in the response properties, each segment of the absPath attribute is enhanced too with the languages attribute.
          required: false
          schema:
            type: array
            items:
              type: string
            default: [id, scopeId, type, name, languages]
      responses:
        '200':
          description: The Rochade items
          content:
            application/vnd.raas-services-items-items.v1+json:
              schema:
                $ref: '#/components/schemas/MLResultItems'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
        '412':
          $ref: '#/components/responses/PreconditionFailed'
        '428':
          $ref: '#/components/responses/PreconditionRequired'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '501':
          $ref: '#/components/responses/NotImplemented'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Unexpected'

  /items/{itemId}/children:
    get:
      tags:
        - Items
      operationId: getItemChildInventory
      summary: Retrieves details for the Item Child Inventory
      description: |
        Retrieves the inventory of children for an item (if that item is compliant with the concept of 'children')
      parameters:
        - name: itemId
          in: path
          description: |
            The Rochade item id
          required: true
          schema:
            $ref: '#/components/schemas/ItemId'
        - name: displayLangs
          in: query
          description: |
            By convention, the first value corresponds to the primary language. It corresponds to the preferred language of the user, as provided in the user preferences item in the Rochade server.  
            It is also known as the working language, or at least the most important one, for the user agent.
            The remaining values correspond to the additional preferred languages of the user as provided by the user preferences item in the Rochade server.
            They are the additional languages for which the user agent wants the translations.
          required: false
          schema:
            $ref: '#/components/schemas/DisplayLangs'
        - name: what
          in: query
          description: Attributes to return.
          required: false
          schema:
            type: array
            items:
              type: string
            default: [id, scopeId, type, name]
      responses:
        '200':
          description: First level of children for Child inventory
          content:
            application/vnd.raas-services-items-children.v1+json:
              schema:
                $ref: '#/components/schemas/ChildInventory'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
        '412':
          $ref: '#/components/responses/PreconditionFailed'
        '428':
          $ref: '#/components/responses/PreconditionRequired'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '501':
          $ref: '#/components/responses/NotImplemented'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Unexpected'

  /items/{itemId}/tags:
    get:
      tags:
        - Items
      operationId: getItemTags
      summary: return all Tags for an item id existing in the Rochade Server.
      description: |
        return all Tags for an item id existing in the Rochade Server.
      parameters:
        - name: itemId
          in: path
          description: |
            The Rochade item identifier
          required: true
          schema:
            $ref: '#/components/schemas/ItemId'
      responses:
        '200':
          description: return all Tags for an item id existing in the Rochade Server.
          content:
            application/vnd.raas-services-items-tags.v1+json:
              schema:
                $ref: '#/components/schemas/Tags'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
        '412':
          $ref: '#/components/responses/PreconditionFailed'
        '428':
          $ref: '#/components/responses/PreconditionRequired'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '501':
          $ref: '#/components/responses/NotImplemented'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Unexpected'

  /items/{itemId}/linked-business-items:
    get:
      tags:
        - Items
      operationId: getLinkedBusinessItems
      summary: return all linked business items for an item existing in the Rochade Server.
      description: |
          return all linked business items for an item existing in the Rochade Server.
      parameters:
        - name: itemId
          in: path
          description: |
            The Rochade item identifier
          required: true
          schema:
            $ref: '#/components/schemas/ItemId'
        - name: displayLangs
          in: query
          description: |
            By convention, the first value corresponds to the primary language. It corresponds to the preferred language of the user, as provided in the user preferences item in the Rochade server.  
            It is also known as the working language, or at least the most important one, for the user agent.
            The remaining values correspond to the additional preferred languages of the user as provided by the user preferences item in the Rochade server.
            They are the additional languages for which the user agent wants the translations.
          required: false
          schema:
            $ref: '#/components/schemas/DisplayLangs'
        - name: what
          in: query
          description: Attributes to return. id is always returned even if it is not part of what.
          required: false
          schema:
            type: array
            items:
              type: string
            default: [ id, scopeId, type, name ]
      responses:
        '200':
          description: return all linked business items for an item id existing in the Rochade Server.
          content:
            application/vnd.raas-services-items-linked-business-items.v1+json:
              schema:
                $ref: '#/components/schemas/MLResultItems'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
        '412':
          $ref: '#/components/responses/PreconditionFailed'
        '428':
          $ref: '#/components/responses/PreconditionRequired'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '501':
          $ref: '#/components/responses/NotImplemented'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Unexpected'

  /items/{itemId}/related-business-items:
    get:
      tags:
        - Items
      operationId: getRelatedBusinessItemsForBusinessItem
      summary: Return directly linked business items from the seed item.
      description: |
        Return directly linked business items from the seed item.
      parameters:
        - name: itemId
          in: path
          description: |
            The Rochade item identifier
          required: true
          schema:
            $ref: '#/components/schemas/ItemId'
        - name: displayLangs
          in: query
          description: |
            By convention, the first value corresponds to the primary language. It corresponds to the preferred language of the user, as provided in the user preferences item in the Rochade server.  
            It is also known as the working language, or at least the most important one, for the user agent.
            The remaining values correspond to the additional preferred languages of the user as provided by the user preferences item in the Rochade server.
            They are the additional languages for which the user agent wants the translations.
          required: false
          schema:
            $ref: '#/components/schemas/DisplayLangs'
        - name: what
          in: query
          description: Attributes to return. id is always returned even if it is not part of what.
          required: false
          schema:
            type: array
            items:
              type: string
            default: [ id, scopeId, type, name ]
      responses:
        '200':
          description: return all linked business items for an item id existing in the Rochade Server.
          content:
            application/vnd.raas-services-items-linked-business-items.v1+json:
              schema:
                $ref: '#/components/schemas/MLResultItems'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
        '412':
          $ref: '#/components/responses/PreconditionFailed'
        '428':
          $ref: '#/components/responses/PreconditionRequired'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '501':
          $ref: '#/components/responses/NotImplemented'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Unexpected'

  /items/{itemId}/related-technical-items:
    get:
      tags:
        - Items
      operationId: getRelatedTechnicalItem
      summary: returns the technical items related to given item from Rochade server
      description: |
        returns the technical items related to given item and the relationship between technology and application.
      parameters:
        - name: itemId
          in: path
          description: |
            The Rochade item identifier
          required: true
          schema:
            $ref: '#/components/schemas/ItemId'
        - name: displayLangs
          in: query
          description: |
            By convention, the first value corresponds to the primary language. It corresponds to the preferred language of the user, as provided in the user preferences item in the Rochade server.  
            It is also known as the working language, or at least the most important one, for the user agent.
            The remaining values correspond to the additional preferred languages of the user as provided by the user preferences item in the Rochade server.
            They are the additional languages for which the user agent wants the translations.
          required: false
          schema:
            $ref: '#/components/schemas/DisplayLangs'
        - name: what
          in: query
          description: Attributes to return. id is always returned even if it is not part of what.
          required: false
          schema:
            type: array
            items:
              type: string
            default: [id, scopeId, type, name]
      responses:
        '200':
          description: returns all technical items related to given item id from Rochade Server.
          content:
            application/vnd.raas-services-items-technical.v1+json:
              schema:
                $ref: '#/components/schemas/MLResultItems'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
        '412':
          $ref: '#/components/responses/PreconditionFailed'
        '428':
          $ref: '#/components/responses/PreconditionRequired'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '501':
          $ref: '#/components/responses/NotImplemented'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Unexpected'

  /items/{itemId}/updates:
    get:
      tags:
        - Items
      operationId: getItemUpdates
      summary: Represents the updates done on the item.
      description: |
        Describes various updates done on this item.
      parameters:
        - name: itemId
          in: path
          description: |
            The Rochade item identifier
          required: true
          schema:
            $ref: '#/components/schemas/ItemId'
        - name: displayLangs
          in: query
          description: |
            By convention, the first value corresponds to the primary language. It corresponds to the preferred language of the user, as provided in the user preferences item in the Rochade server.  
            It is also known as the working language, or at least the most important one, for the user agent.
            The remaining values correspond to the additional preferred languages of the user as provided by the user preferences item in the Rochade server.
            They are the additional languages for which the user agent wants the translations.
          required: false
          schema:
            $ref: '#/components/schemas/DisplayLangs'
      responses:
        '200':
          description: returns the updates done on the item.
          content:
            application/vnd.raas-services-item-updates.v1+json:
              schema:
                $ref: '#/components/schemas/ItemUpdates'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
        '412':
          $ref: '#/components/responses/PreconditionFailed'
        '428':
          $ref: '#/components/responses/PreconditionRequired'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '501':
          $ref: '#/components/responses/NotImplemented'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Unexpected'

  /items/{itemId}/ownership:
    get:
      tags:
        - Items
      operationId: getItemOwnership
      summary: Represents the ownership of the item.
      description: |
        Describes who owns the item
      parameters:
        - name: itemId
          in: path
          description: |
            The Rochade item identifier
          required: true
          schema:
            $ref: '#/components/schemas/ItemId'
      responses:
        '200':
          description: returns the ownership of the item.
          content:
            application/vnd.raas-services-item-ownership.v1+json:
              schema:
                $ref: '#/components/schemas/Ownership'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
        '412':
          $ref: '#/components/responses/PreconditionFailed'
        '428':
          $ref: '#/components/responses/PreconditionRequired'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '501':
          $ref: '#/components/responses/NotImplemented'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Unexpected'

  /items/{itemId}/manually-linked-application-items:
    get:
      tags:
        - Items
      operationId: getManuallyLinkedApplications
      summary: returns all Business Applications manually linked from another Business Application in the Rochade server.
      description: |
        returns all Business Applications manually linked from another Business Application in the Rochade server.
      parameters:
        - name: itemId
          in: path
          description: |
            The Rochade item identifier.
          required: true
          schema:
            $ref: '#/components/schemas/ItemId'
        - name: displayLangs
          in: query
          description: |
            By convention, the first value corresponds to the primary language. It corresponds to the preferred language of the user, as provided in the user preferences item in the Rochade server.  
            It is also known as the working language, or at least the most important one, for the user agent.
            The remaining values correspond to the additional preferred languages of the user as provided by the user preferences item in the Rochade server.
            They are the additional languages for which the user agent wants the translations.
          required: false
          schema:
            $ref: '#/components/schemas/DisplayLangs'
        - name: what
          in: query
          description: Attributes to return. id is always returned even if it is not part of what.
          required: false
          schema:
            type: array
            items:
              type: string
            default: [ id, scopeId, type, name ]
      responses:
        '200':
          description: return all linked business items for an item id existing in the Rochade Server.
          content:
            application/vnd.raas-services-items-manually-linked-application-items.v1+json:
              schema:
                $ref: '#/components/schemas/BusinessApplications'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
        '412':
          $ref: '#/components/responses/PreconditionFailed'
        '428':
          $ref: '#/components/responses/PreconditionRequired'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '501':
          $ref: '#/components/responses/NotImplemented'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Unexpected'

  /items/{itemId}/attributes:
    get:
      tags:
        - Items
      operationId: getAttributes
      summary: Retrieves the attributes values available for the specified item.
      description: |
        Retrieves the attributes values available for the specified item.
      parameters:
        - name: itemId
          in: path
          description: |
            The Rochade item identifier.
          required: true
          schema:
            $ref: '#/components/schemas/ItemId'
        - name: displayLangs
          in: query
          description: |
            By convention, the first value corresponds to the primary language. It corresponds to the preferred language of the user, as provided in the user preferences item in the Rochade server.  
            It is also known as the working language, or at least the most important one, for the user agent.
            The remaining values correspond to the additional preferred languages of the user as provided by the user preferences item in the Rochade server.
            They are the additional languages for which the user agent wants the translations.
          required: false
          schema:
            $ref: '#/components/schemas/DisplayLangs'
        - name: what
          in: query
          description: |
            Optional query parameter to specify the attributes to return. when not provided, it will return all the attributes available for the item.
          required: false
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: The Rochade items
          content:
            application/vnd.raas-services-items-attributes.v1+json:
              schema:
                $ref: '#/components/schemas/AttributesResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
        '412':
          $ref: '#/components/responses/PreconditionFailed'
        '428':
          $ref: '#/components/responses/PreconditionRequired'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '501':
          $ref: '#/components/responses/NotImplemented'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
        default:
          $ref: '#/components/responses/Unexpected'



####################
components:
  securitySchemes:
    BasicAuth: # <-- arbitrary name for the security scheme
      type: http
      scheme: basic
    BearerAuth: # <-- arbitrary name for the security scheme
      type: http
      scheme: bearer
      bearerFormat: JWT # optional, arbitrary value for documentation purposes

  responses:
    BadRequest:
      description: A bad request was submitted (HTTP 400)
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SDKError'
    Unauthorized:
      description: Unauthorized (HTTP 401)
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SDKError'
    Forbidden:
      description: You are not authorized to perform this action (HTTP 403)
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SDKError'
    NotFound:
      description: The specified resource was not found (HTTP 404)
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SDKError'
    Conflict:
      description: A conflict occurred (HTTP 409)
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SDKError'
    PreconditionFailed:
      description: Condition is not fulfilled (HTTP 412)
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SDKError'
    PreconditionRequired:
      description: Condition is required (HTTP 428)
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SDKError'
    TooManyRequests:
      description: Too many requests in a given amount of time, aka "rate limiting" (HTTP 429).
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SDKError'
    InternalServerError:
      description: An error occurred on the server (HTTP 500)
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SDKError'
    NotImplemented:
      description: Method not implemented (HTTP 501)
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SDKError'
    ServiceUnavailable:
      description: Server is not ready to handle the request (HTTP 503)
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SDKError'
    Unexpected:
      description: Unexpected error
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/JerseyError'

  schemas:
    # Schema for error response body when Jersey dispatcher triggers the error
    JerseyError:
      type: object
      properties:
        timestamp:
          type: string
          format: date-time
        status:
          type: integer
        error:
          type: string
        path:
          type: string
      required:
        - timestamp
        - status
        - error
        - path

    # Schema for error response body when ASG-Services-SDK maps automatically one of its standard com.asg.services.common.exceptions into response body
    SDKError:
      type: object
      properties:
        code:
          type: string
          pattern: '^\d{3}$'
        message:
          type: string
        correlationId:
          type: string

    Language:
      description: Identifier of language in ISO 639-1 format (two-letter codes)
      type: string
      pattern: '^[a-z]{2}$'

    DisplayLangs:
      type: array
      items:
        $ref: '#/components/schemas/Language'
      example:
        - en
        - fr

    ItemId:
      description: The unique identifier of the item
      type: integer
      format: int64
      example: 1234

    ResultItemAttributes:
      description: |
        Attribute values for a Result Item.  
        Keys are attribute names.  
        Values are attribute value.  
        
        Values of each attribute can be:
        * numeric (e.g. for id),
        * text (e.g. for definition),
        * instants represented in ISO 8601 format (e.g. for history aspects),
        * arrays of text (e.g. for tags),
        * arrays of object (e.g. for a link attribute)
      type: object

    ResultItem:
      description: |
        An item with its requested attributes.  
        The values of MLC attributes are provided in the default language of the Rochade Subject Area (which is **not** necessarily the primary requested language).  
        All the requested attributes will be present but the ones that do not exist or have no value will be null.
      type: object
      required:
        - id
      properties:
        id:
          $ref: '#/components/schemas/ItemId'
        scopeId:
          $ref: '#/components/schemas/ItemId'
        type:
          description: Rochade Item type (if requested)
          type: string
        name:
          description: Name of item in the default language (if requested)
          type: string
        properties:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/ResultItemAttributes'

    MLResultItem:
      description: |
        An item with language variance values for attributes that have multi-languages capability.  
        The value are provided for all languages specified in the _displayLangs_ request parameter.  
        If the _displayLangs_ request parameter contains the default language of the Rochade Subject Area, the values for that language are repeated in the _languages_ attribute.  
        If the _displayLangs_ request parameter is empty or not provided, the _languages_ attribute will be empty.
      type: object
      required:
        - languages
      allOf:
        - $ref: '#/components/schemas/ResultItem'
        - type: object
          properties:
            languages:
              description: |
                Keys are languages in ISO 639-1 format (two-letter codes), OR empty for the default language.  
                Values are mapping between a MLC attribute and its value in that language.
              type: object
              additionalProperties:
                $ref: '#/components/schemas/MLAttributes'
              nullable: true

    MLResultItems:
      description: |
        A list of items with language variance values for attributes that have multi-languages capability.
      type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/MLResultItem'
      example:
        - id: 11784751
          scopeId: 11706445
          type: RBG/BUSINESS-TERM
          name: termA (en-v4)
          properties:
            DEFINITION: termA (en-version4)
            absPath:
            - id: 11706445
              type: RBG/GLOSSARY
              name: test
              scopeAttribute: root
              nameGroup: 137
              languages:
                de:
                  name: ''
                en:
                  name: test
                fr:
                  name: ''
                es:
                  name: ''
            - id: 11784751
              type: RBG/BUSINESS-TERM
              name: termA (en-v4)
              scopeAttribute: RBG/HAS-BUSINESS-TERM
              nameGroup: 137
              languages:
                de:
                  name: termA (de-v4)
                en:
                  name: termA (en-v4)
                fr:
                  name: ''
                es:
                  name: termA (es-v4)
          languages:
            de:
              DEFINITION: termA (de-version4)
              name: termA (de-v4)
            en:
              DEFINITION: termA (en-version4)
              name: termA (en-v4)
            fr:
              DEFINITION: ''
              name: ''
            es:
              DEFINITION: termA (es-version4)
              name: termA (es-v4)

    MLAttributes:
      description: |
        Attribute values for a specific language variance.  
        Keys are attribute names.  
        Values are attribute value in the contextual language.  
        
        Values of each attribute can be:
        * numeric (e.g. for id),
        * text (e.g. for definition),
        * instants represented in ISO 8601 format (e.g. for history aspects),
        * arrays of text (e.g. for tags),
        * arrays of object (e.g. for a link attribute)  
        
        Depending on the language, not all but only some attributes are present. If absent it means the item has no value in the contextual language for that attribute.
      type: object

    MLResultTreeItem:
      description: |
        Define an item inside a hierarchy of items.  
        The children of the item are provided in the _children_ attribute.
      type: object
      required:
        - children
      allOf:
        - $ref: '#/components/schemas/MLResultItem'
        - type: object
          properties:
            children:
              type: array
              description: The list of children items available under the current item. Recursive point (=> MLResultTreeItem)
              items:
                # SWAGGER-UI-OUT-START
                $ref: '#/components/schemas/MLResultTreeItem'
                # SWAGGER-UI-OUT-END
                # SWAGGER-UI-IN-START
                #type: object
                # SWAGGER-UI-IN-END

    GlossaryContextTree:
      description: |
        The glossary tree with glossaries at the top, contexts as children, sub-contexts as grand-children and so on.
      type: array
      items:
        $ref: '#/components/schemas/MLResultTreeItem'
      example:
        - id: 3225033
          type: RBG/GLOSSARY
          name: Big Data Health Care Campain
          scopeId: 0
          properties:
            level: 0
          languages:
            en:
              name: Big Data Health Care Campain
          children:
            - id: 3225034
              type: RBG/CONTEXT
              name: Business Problem
              scopeId: 3225033
              properties:
                level: 1
                attribute: RBG/HAS-CONTEXT
              languages:
                en:
                  name: Business Problem
              children:
                - id: 3225035
                  type: RBG/CONTEXT
                  name: case
                  scopeId: 3225034
                  properties:
                    level: 2
                    attribute: RBG/HAS-CONTEXT
                  languages:
                    en:
                      name: case
                  children: [ ]
            - id: 3225036
              type: RBG/CONTEXT
              name: Big Data Pilot
              scopeId: 3225033
              properties:
                level: 1
                attribute: RBG/HAS-CONTEXT
              languages:
                en:
                  name: Big Data Pilot
              children:
                - id: 3225037
                  type: RBG/CONTEXT
                  name: case
                  scopeId: 3225036
                  properties:
                    level: 2
                    attribute: RBG/HAS-CONTEXT
                  languages:
                    en:
                      name: case
                  children: [ ]
                - id: 3225057
                  type: RBG/CONTEXT
                  name: data source
                  scopeId: 3225036
                  properties:
                    level: 2
                    attribute: RBG/HAS-CONTEXT
                  languages:
                    en:
                      name: data source
                  children: [ ]
                - id: 3225058
                  type: RBG/CONTEXT
                  name: data target
                  scopeId: 3225036
                  properties:
                    level: 2
                    attribute: RBG/HAS-CONTEXT
                  languages:
                    en:
                      name: data target
                  children: [ ]
        - id: 3225099
          type: RBG/GLOSSARY
          name: Big Data Outdoor Store
          scopeId: 0
          properties:
            level: 0
          languages:
            en:
              name: Big Data Outdoor Store
          children:
            - id: 3225100
              type: RBG/CONTEXT
              name: Big Data Pilot
              scopeId: 3225099
              properties:
                level: 1
                attribute: RBG/HAS-CONTEXT
              languages:
                en:
                  name: Big Data Pilot
              children:
                - id: 3225101
                  type: RBG/CONTEXT
                  name: case
                  scopeId: 3225100
                  properties:
                    level: 2
                    attribute: RBG/HAS-CONTEXT
                  languages:
                    en:
                      name: case
                  children: [ ]
                - id: 3225109
                  type: RBG/CONTEXT
                  name: data target
                  scopeId: 3225100
                  properties:
                    level: 2
                    attribute: RBG/HAS-CONTEXT
                  languages:
                    en:
                      name: data target
                  children: [ ]
        - id: 18136962
          type: RBG/GLOSSARY
          name: Wqa
          scopeId: 0
          properties:
            level: 0
          languages:
            en:
              name: Wqa
          children: [ ]

    BusinessApplications:
      description: |
        Describes the list of Business Application items that exist in the Rochade Server.
      type: array
      items:
        $ref: '#/components/schemas/MLResultItem'
      example:
        - id: 4827396
          type: DWR_ARC_BUSINESS_APPLICATION
          name: BA1
          scopeId: 0
          properties:
            level: 0
          languages: { }
        - id: 4827397
          type: DWR_ARC_BUSINESS_APPLICATION
          name: BA2
          scopeId: 0
          properties:
            level: 0
          languages: { }
        - id: 4827398
          type: DWR_ARC_BUSINESS_APPLICATION
          name: BA3
          scopeId: 0
          properties:
            level: 0
          languages: { }
        - id: 4135430
          type: DWR_ARC_BUSINESS_APPLICATION
          name: US-BigData Clusters
          scopeId: 0
          properties:
            level: 0
          languages: { }

    ChildInventory:
      description: |
        Describes the Item child inventory in Rochade Server.
      type: array
      items:
        $ref: '#/components/schemas/MLResultItem'

    Tags:
      description: The tag list
      type: object
      properties:
        tags:
          type: array
          items:
            $ref: '#/components/schemas/Tag'

      example:
        tags:
          - id: 1
            name: "tag1"
          - id: 2
            name: "tag2"
          - id: 3
            name: "New tag"
    Tag:
      description: Describe on Tag present in the Rochade Server.
      type: object
      properties:
        id:
          $ref: '#/components/schemas/ItemId'
        name:
          type: string

    linkDirection:
      description: Define the link direction
      type: string
      enum: [FORWARD, BACKWARD, BOTH]

    ItemUpdates:
      type: object
      properties:
        updates:
          type: array
          items:
            $ref: '#/components/schemas/ItemUpdate'

    ItemUpdate:
      type: object
      properties:
        updatedOn:
          type: string
          format: date-time
          example: 2021-06-10T10:26:55.000+05:30
        description:
          description: What happened on the item.
          type: string
          example: Created 20190517 02:49:27 ADMIN
        updatedBy:
          $ref: '#/components/schemas/UserInformation'
        languages:
          description: |
            Keys are languages in ISO 639-1 format (two-letter codes), OR empty for the default language.  
            Values are mapping between a MLC attribute and its value in that language.
          type: object
          additionalProperties:
            $ref: '#/components/schemas/MLAttributes'
          nullable: true
      required: [description, updatedOn, updatedBy]

    Ownership:
      description: |
        Ownership of an item. Allow the users to email the people/departments who owns the item if they have any issues or questions.
        Ownership depends on the kind of item:
        
        * Technical Items not Linked to Business Applications: the owner is the creator of this Technical Item
        * Technical Items Linked to Business Applications: the owner(s) are the creator of each of those Business Applications (one item may be linked to multiple Business Applications)
        * Business Items: the owner is the creator the creator of this Business Item
        * Business Application Items: the owner is the creator of this Application Item
      type: array
      items:
        $ref: '#/components/schemas/UserInformation'

    UserInformation:
      description: |
        information about an user containing its name and its email.
      type: object
      properties:
        name:
          description: the name of the user (generally first name + last name)
          type: string
          example: John Legend
        department:
          description: the department this user resides to (if available from LDAP. Always null for internal Rochade accounts)
          type: string
          nullable: true
          example: Customer Support
        email:
          description: the e-mail of the user (if available)
          type: string
          format: email
          nullable: true
          example: John.Legend@Rocketsoftware.com
        title:
          description: the job title of the user (if available from LDAP. Always null for internal Rochade accounts)
          type: string
          nullable: true
          example: Customer Support Engineer

    AttributesResponse:
      type: object
      properties:
        id:
          $ref: '#/components/schemas/ItemId'
        attributes:
          type: array
          items:
            $ref: '#/components/schemas/ValuedAttributeItem'
        languages:
          description: |
            Keys are languages in ISO 639-1 format (two-letter codes), OR empty for the default language.  
            Values are mapping between a MLC attribute and its value in that language.
          type: object
          additionalProperties:
            $ref: '#/components/schemas/MLAttributes'

    attributeType:
      description: |
        Describes the type of additional attribute. Possible values are
        * `TEXT`
        * `LINK`
        * `NAMESPACE`
        * `VALUE`
        * `HYPER_TEXT`
        * `BLOB`
        * `UNKNOWN`
      type: string
      enum: [ TEXT, VALUE, LINK, NAMESPACE, HYPER_TEXT, BLOB, UNKNOWN ]

    AttributeItem:
      type: object
      properties:
        attributeName:
          type: string
          description: name of the attribute.
        attributeType:
          $ref: '#/components/schemas/attributeType'
        mimeType:
          description: Describes the attribute mime Type
          type: string
    ValuedAttributeItem:
      allOf:
        - $ref: '#/components/schemas/AttributeItem'
        - type: object
          properties:
            attributeValue:
              description: The attribute value for the item.
              type: object